# FP8 Converter Default Settings

# ========== Single File Conversion ==========
# Input file for single file conversion
fp8_converter.single_input_file = ""

# ========== Batch Conversion ==========
# Input folder for model files to convert
fp8_converter.input_folder = ""

# Output folder for converted models (optional, uses input folder if empty)
fp8_converter.output_folder = ""

# ========== Shared Settings ==========
# Model type: "Auto-detect" (recommended), "Qwen Image", or "Z Image"
# - Qwen Image: For Qwen Image and Qwen Image Edit models
# - Z Image: For Z Image (Lumina2/NextDiT architecture) models
# - Auto-detect: Automatically detects the model type based on state dict keys
fp8_converter.model_type = "Auto-detect"

# Quantization mode: tensor = ComfyUI compatible (recommended), block = Better quality (requires ComfyUI patch)
fp8_converter.quantization_mode = "tensor"

# Whether to delete original files after successful conversion
fp8_converter.delete_original = false

# ========== Engine Selection ==========
# FP8 engine: Standard (Musubi) or Improved (convert_to_quant learned rounding)
fp8_converter.engine = "Standard (Musubi dynamic scaling)"

# ========== Improved FP8 (convert_to_quant) Defaults ==========
# These settings are only used when fp8_converter.engine is set to the Improved engine.
fp8_converter.improved.comfy_quant = true
fp8_converter.improved.save_both_formats = false
fp8_converter.improved.full_precision_matrix_mult = true
fp8_converter.improved.preset = "Preset D (max quality / slowest)"
fp8_converter.improved.skip_inefficient_layers = false
fp8_converter.improved.num_iter = 3000
fp8_converter.improved.calib_samples = 4096
fp8_converter.improved.seed = 0
fp8_converter.improved.optimizer = "original"
fp8_converter.improved.lr_schedule = "adaptive"
fp8_converter.improved.lr = 0.008077300000003

# Advanced SVD tuning (usually keep defaults)
fp8_converter.improved.top_p = 0.1
fp8_converter.improved.min_k = 64
fp8_converter.improved.max_k = 256
fp8_converter.improved.full_matrix = true
fp8_converter.improved.no_learned_rounding = false


